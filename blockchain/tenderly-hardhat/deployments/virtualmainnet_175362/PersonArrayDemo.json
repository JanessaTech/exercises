{"metadata":"{\"defaultCompiler\":{\"version\":\"0.8.20\"},\"sources\":{\"contracts/PersonArrayDemo.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\n// Uncomment this line to use console.log\\r\\n// import \\\"hardhat/console.sol\\\";\\r\\n\\r\\ncontract PersonArrayDemo {\\r\\n    struct Person {\\r\\n        uint id;\\r\\n        string name;\\r\\n    }\\r\\n    uint idx;\\r\\n    Person[] persons;\\r\\n    mapping(uint => uint) idxMapping;\\r\\n    mapping(uint => bool) inserted;\\r\\n\\r\\n    function create(string memory _name) public {\\r\\n        uint _id = idx;\\r\\n        idx++;\\r\\n        persons.push(Person({id: _id, name: _name}));\\r\\n        idxMapping[_id] = persons.length - 1;\\r\\n        inserted[_id] = true;\\r\\n    }\\r\\n    function remove(uint _id) public {\\r\\n        require(inserted[_id], 'invalid id');\\r\\n        uint _idx = idxMapping[_id];\\r\\n        Person storage last = persons[persons.length - 1];\\r\\n        persons[_idx] = Person({id: last.id, name: last.name});\\r\\n        idxMapping[last.id] = _idx;\\r\\n        delete idxMapping[_id];\\r\\n        delete inserted[_id];\\r\\n        persons.pop();\\r\\n    }\\r\\n    function getAll() public view returns(Person[] memory) {\\r\\n        return persons;\\r\\n    }\\r\\n    function get(uint _id) public view returns(uint id, string memory name) {\\r\\n        require(inserted[_id], 'invalid id');\\r\\n        Person storage person = persons[idxMapping[_id]];\\r\\n        return (person.id, person.name);\\r\\n    }\\r\\n}\",\"versionPragma\":\"^0.8.20\"}}}","address":"0x5520920eD8AE9ad028B5e85a27d908B0508A4651","bytecode":"0x608060405234801561001057600080fd5b50610f3f806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80634cc822151461005157806353ed51431461006d5780639507d39a1461008b578063b6a46b3b146100bc575b600080fd5b61006b600480360381019061006691906106c2565b6100d8565b005b61007561030d565b604051610082919061088d565b60405180910390f35b6100a560048036038101906100a091906106c2565b610408565b6040516100b3929190610908565b60405180910390f35b6100d660048036038101906100d19190610a6d565b610544565b005b6003600082815260200190815260200160002060009054906101000a900460ff16610138576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161012f90610b02565b60405180910390fd5b600060026000838152602001908152602001600020549050600060018080805490506101649190610b51565b8154811061017557610174610b85565b5b906000526020600020906002020190506040518060400160405280826000015481526020018260010180546101a990610be3565b80601f01602080910402602001604051908101604052809291908181526020018280546101d590610be3565b80156102225780601f106101f757610100808354040283529160200191610222565b820191906000526020600020905b81548152906001019060200180831161020557829003601f168201915b50505050508152506001838154811061023e5761023d610b85565b5b906000526020600020906002020160008201518160000155602082015181600101908161026b9190610dc0565b509050508160026000836000015481526020019081526020016000208190555060026000848152602001908152602001600020600090556003600084815260200190815260200160002060006101000a81549060ff021916905560018054806102d7576102d6610e92565b5b6001900381819060005260206000209060020201600080820160009055600182016000610304919061061b565b50509055505050565b60606001805480602002602001604051908101604052809291908181526020016000905b828210156103ff57838290600052602060002090600202016040518060400160405290816000820154815260200160018201805461036e90610be3565b80601f016020809104026020016040519081016040528092919081815260200182805461039a90610be3565b80156103e75780601f106103bc576101008083540402835291602001916103e7565b820191906000526020600020905b8154815290600101906020018083116103ca57829003601f168201915b50505050508152505081526020019060010190610331565b50505050905090565b600060606003600084815260200190815260200160002060009054906101000a900460ff1661046c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046390610b02565b60405180910390fd5b6000600160026000868152602001908152602001600020548154811061049557610494610b85565b5b906000526020600020906002020190508060000154816001018080546104ba90610be3565b80601f01602080910402602001604051908101604052809291908181526020018280546104e690610be3565b80156105335780601f1061050857610100808354040283529160200191610533565b820191906000526020600020905b81548152906001019060200180831161051657829003601f168201915b505050505090509250925050915091565b60008054905060008081548092919061055c90610ec1565b9190505550600160405180604001604052808381526020018481525090806001815401808255809150506001900390600052602060002090600202016000909190919091506000820151816000015560208201518160010190816105c09190610dc0565b505050600180805490506105d49190610b51565b600260008381526020019081526020016000208190555060016003600083815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b50805461062790610be3565b6000825580601f106106395750610658565b601f016020900490600052602060002090810190610657919061065b565b5b50565b5b8082111561067457600081600090555060010161065c565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61069f8161068c565b81146106aa57600080fd5b50565b6000813590506106bc81610696565b92915050565b6000602082840312156106d8576106d7610682565b5b60006106e6848285016106ad565b91505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6107248161068c565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610764578082015181840152602081019050610749565b60008484015250505050565b6000601f19601f8301169050919050565b600061078c8261072a565b6107968185610735565b93506107a6818560208601610746565b6107af81610770565b840191505092915050565b60006040830160008301516107d2600086018261071b565b50602083015184820360208601526107ea8282610781565b9150508091505092915050565b600061080383836107ba565b905092915050565b6000602082019050919050565b6000610823826106ef565b61082d81856106fa565b93508360208202850161083f8561070b565b8060005b8581101561087b578484038952815161085c85826107f7565b94506108678361080b565b925060208a01995050600181019050610843565b50829750879550505050505092915050565b600060208201905081810360008301526108a78184610818565b905092915050565b6108b88161068c565b82525050565b600082825260208201905092915050565b60006108da8261072a565b6108e481856108be565b93506108f4818560208601610746565b6108fd81610770565b840191505092915050565b600060408201905061091d60008301856108af565b818103602083015261092f81846108cf565b90509392505050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61097a82610770565b810181811067ffffffffffffffff8211171561099957610998610942565b5b80604052505050565b60006109ac610678565b90506109b88282610971565b919050565b600067ffffffffffffffff8211156109d8576109d7610942565b5b6109e182610770565b9050602081019050919050565b82818337600083830152505050565b6000610a10610a0b846109bd565b6109a2565b905082815260208101848484011115610a2c57610a2b61093d565b5b610a378482856109ee565b509392505050565b600082601f830112610a5457610a53610938565b5b8135610a648482602086016109fd565b91505092915050565b600060208284031215610a8357610a82610682565b5b600082013567ffffffffffffffff811115610aa157610aa0610687565b5b610aad84828501610a3f565b91505092915050565b7f696e76616c696420696400000000000000000000000000000000000000000000600082015250565b6000610aec600a836108be565b9150610af782610ab6565b602082019050919050565b60006020820190508181036000830152610b1b81610adf565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b5c8261068c565b9150610b678361068c565b9250828203905081811115610b7f57610b7e610b22565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610bfb57607f821691505b602082108103610c0e57610c0d610bb4565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610c767fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610c39565b610c808683610c39565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610cbd610cb8610cb38461068c565b610c98565b61068c565b9050919050565b6000819050919050565b610cd783610ca2565b610ceb610ce382610cc4565b848454610c46565b825550505050565b600090565b610d00610cf3565b610d0b818484610cce565b505050565b5b81811015610d2f57610d24600082610cf8565b600181019050610d11565b5050565b601f821115610d7457610d4581610c14565b610d4e84610c29565b81016020851015610d5d578190505b610d71610d6985610c29565b830182610d10565b50505b505050565b600082821c905092915050565b6000610d9760001984600802610d79565b1980831691505092915050565b6000610db08383610d86565b9150826002028217905092915050565b610dc98261072a565b67ffffffffffffffff811115610de257610de1610942565b5b610dec8254610be3565b610df7828285610d33565b600060209050601f831160018114610e2a5760008415610e18578287015190505b610e228582610da4565b865550610e8a565b601f198416610e3886610c14565b60005b82811015610e6057848901518255600182019150602085019450602081019050610e3b565b86831015610e7d5784890151610e79601f891682610d86565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fd5b6000610ecc8261068c565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610efe57610efd610b22565b5b60018201905091905056fea2646970667358221220b9a66e4ec8363474a808f56910a5ea36ef10965fe33f578a2a3dd490c3f32f4764736f6c63430008140033","deployedBytecode":"0x608060405234801561001057600080fd5b506004361061004c5760003560e01c80634cc822151461005157806353ed51431461006d5780639507d39a1461008b578063b6a46b3b146100bc575b600080fd5b61006b600480360381019061006691906106c2565b6100d8565b005b61007561030d565b604051610082919061088d565b60405180910390f35b6100a560048036038101906100a091906106c2565b610408565b6040516100b3929190610908565b60405180910390f35b6100d660048036038101906100d19190610a6d565b610544565b005b6003600082815260200190815260200160002060009054906101000a900460ff16610138576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161012f90610b02565b60405180910390fd5b600060026000838152602001908152602001600020549050600060018080805490506101649190610b51565b8154811061017557610174610b85565b5b906000526020600020906002020190506040518060400160405280826000015481526020018260010180546101a990610be3565b80601f01602080910402602001604051908101604052809291908181526020018280546101d590610be3565b80156102225780601f106101f757610100808354040283529160200191610222565b820191906000526020600020905b81548152906001019060200180831161020557829003601f168201915b50505050508152506001838154811061023e5761023d610b85565b5b906000526020600020906002020160008201518160000155602082015181600101908161026b9190610dc0565b509050508160026000836000015481526020019081526020016000208190555060026000848152602001908152602001600020600090556003600084815260200190815260200160002060006101000a81549060ff021916905560018054806102d7576102d6610e92565b5b6001900381819060005260206000209060020201600080820160009055600182016000610304919061061b565b50509055505050565b60606001805480602002602001604051908101604052809291908181526020016000905b828210156103ff57838290600052602060002090600202016040518060400160405290816000820154815260200160018201805461036e90610be3565b80601f016020809104026020016040519081016040528092919081815260200182805461039a90610be3565b80156103e75780601f106103bc576101008083540402835291602001916103e7565b820191906000526020600020905b8154815290600101906020018083116103ca57829003601f168201915b50505050508152505081526020019060010190610331565b50505050905090565b600060606003600084815260200190815260200160002060009054906101000a900460ff1661046c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046390610b02565b60405180910390fd5b6000600160026000868152602001908152602001600020548154811061049557610494610b85565b5b906000526020600020906002020190508060000154816001018080546104ba90610be3565b80601f01602080910402602001604051908101604052809291908181526020018280546104e690610be3565b80156105335780601f1061050857610100808354040283529160200191610533565b820191906000526020600020905b81548152906001019060200180831161051657829003601f168201915b505050505090509250925050915091565b60008054905060008081548092919061055c90610ec1565b9190505550600160405180604001604052808381526020018481525090806001815401808255809150506001900390600052602060002090600202016000909190919091506000820151816000015560208201518160010190816105c09190610dc0565b505050600180805490506105d49190610b51565b600260008381526020019081526020016000208190555060016003600083815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b50805461062790610be3565b6000825580601f106106395750610658565b601f016020900490600052602060002090810190610657919061065b565b5b50565b5b8082111561067457600081600090555060010161065c565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61069f8161068c565b81146106aa57600080fd5b50565b6000813590506106bc81610696565b92915050565b6000602082840312156106d8576106d7610682565b5b60006106e6848285016106ad565b91505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6107248161068c565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610764578082015181840152602081019050610749565b60008484015250505050565b6000601f19601f8301169050919050565b600061078c8261072a565b6107968185610735565b93506107a6818560208601610746565b6107af81610770565b840191505092915050565b60006040830160008301516107d2600086018261071b565b50602083015184820360208601526107ea8282610781565b9150508091505092915050565b600061080383836107ba565b905092915050565b6000602082019050919050565b6000610823826106ef565b61082d81856106fa565b93508360208202850161083f8561070b565b8060005b8581101561087b578484038952815161085c85826107f7565b94506108678361080b565b925060208a01995050600181019050610843565b50829750879550505050505092915050565b600060208201905081810360008301526108a78184610818565b905092915050565b6108b88161068c565b82525050565b600082825260208201905092915050565b60006108da8261072a565b6108e481856108be565b93506108f4818560208601610746565b6108fd81610770565b840191505092915050565b600060408201905061091d60008301856108af565b818103602083015261092f81846108cf565b90509392505050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61097a82610770565b810181811067ffffffffffffffff8211171561099957610998610942565b5b80604052505050565b60006109ac610678565b90506109b88282610971565b919050565b600067ffffffffffffffff8211156109d8576109d7610942565b5b6109e182610770565b9050602081019050919050565b82818337600083830152505050565b6000610a10610a0b846109bd565b6109a2565b905082815260208101848484011115610a2c57610a2b61093d565b5b610a378482856109ee565b509392505050565b600082601f830112610a5457610a53610938565b5b8135610a648482602086016109fd565b91505092915050565b600060208284031215610a8357610a82610682565b5b600082013567ffffffffffffffff811115610aa157610aa0610687565b5b610aad84828501610a3f565b91505092915050565b7f696e76616c696420696400000000000000000000000000000000000000000000600082015250565b6000610aec600a836108be565b9150610af782610ab6565b602082019050919050565b60006020820190508181036000830152610b1b81610adf565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b5c8261068c565b9150610b678361068c565b9250828203905081811115610b7f57610b7e610b22565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610bfb57607f821691505b602082108103610c0e57610c0d610bb4565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610c767fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610c39565b610c808683610c39565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610cbd610cb8610cb38461068c565b610c98565b61068c565b9050919050565b6000819050919050565b610cd783610ca2565b610ceb610ce382610cc4565b848454610c46565b825550505050565b600090565b610d00610cf3565b610d0b818484610cce565b505050565b5b81811015610d2f57610d24600082610cf8565b600181019050610d11565b5050565b601f821115610d7457610d4581610c14565b610d4e84610c29565b81016020851015610d5d578190505b610d71610d6985610c29565b830182610d10565b50505b505050565b600082821c905092915050565b6000610d9760001984600802610d79565b1980831691505092915050565b6000610db08383610d86565b9150826002028217905092915050565b610dc98261072a565b67ffffffffffffffff811115610de257610de1610942565b5b610dec8254610be3565b610df7828285610d33565b600060209050601f831160018114610e2a5760008415610e18578287015190505b610e228582610da4565b865550610e8a565b601f198416610e3886610c14565b60005b82811015610e6057848901518255600182019150602085019450602081019050610e3b565b86831015610e7d5784890151610e79601f891682610d86565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fd5b6000610ecc8261068c565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610efe57610efd610b22565b5b60018201905091905056fea2646970667358221220b9a66e4ec8363474a808f56910a5ea36ef10965fe33f578a2a3dd490c3f32f4764736f6c63430008140033","abi":[{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"create","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"get","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAll","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"}],"internalType":"struct PersonArrayDemo.Person[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"remove","outputs":[],"stateMutability":"nonpayable","type":"function"}]}